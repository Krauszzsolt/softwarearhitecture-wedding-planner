<div fxLayout="row" fxLayoutAlign="center">
  <h2>Új feladat hozzáadása</h2>
</div>
<mat-card-content>
  <form [formGroup]="taskGroup" (ngSubmit)="onSubmit()">
    <div fxLayout="column">
      <div fxLayout="column">
        <mat-form-field appearance="fill">
          <mat-label>Feladat</mat-label>
          <input matInput formControlName="task" />
        </mat-form-field>
      </div>

      <div *ngIf="wedding" fxLayout="column">
        <mat-form-field appearance="fill">
          <mat-label>Szükséges feladatok</mat-label>
          <mat-select formControlName="responsible" multiple>
            <mat-select-trigger>
              {{wedding.taskGroups ? wedding.taskGroups[0].tasks : ''}}              
            </mat-select-trigger>
            <mat-option *ngFor="let tasks of wedding.taskGroups" [value]="tasks.id">{{tasks.name}}</mat-option>
          </mat-select>
        </mat-form-field>
        <!-- <mat-form-field appearance="fill">
          <mat-label>Szükséges feladatok</mat-label>
          <mat-select formControlName="responsible" name="food">
            <mat-option *ngFor="let tasks of wedding.taskGroups" [value]="tasks.id"> {{tasks.name}} </mat-option>
          </mat-select>
        </mat-form-field> -->
      </div>

      <div class="top-buffer-2" fxLayout="row" fxLayoutAlign="center">
        <button *ngIf="!loading" [disabled]="loading" mat-flat-button color="primary">Hozzáadás</button>
      </div>
    </div>
  </form>
</mat-card-content>
